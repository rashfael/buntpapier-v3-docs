import{i as O,c as j,n as D,o as F,a as Y,b as h,D as G,r as C,d as _,e as y,f as l,u as X,g as R,w as N,h as H,j as L,k as z,l as $,m as M,p as K,q as U,t as q,s as J,v as Q,x as k,y as Z,z as tt,A as et,B as x,C as ot}from"./vendor.c1d5441c.js";const st=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};st();function it(i){i.directive("resizeObserver",{beforeMount(e,t){const o=new O(s=>{if(!!e.__buntpapier__resize_observer)for(const n of e.__buntpapier__resize_observer.handlers)n(s)});e.__buntpapier__resize_observer?e.__buntpapier__resize_observer.handlers.push(t.value):e.__buntpapier__resize_observer={observer:o,handlers:[t.value]},o.observe(e)},beforeUnmount(e,t,o,s){!e.__buntpapier__resize_observer||(e.__buntpapier__resize_observer.observer.disconnect(),e.__buntpapier__resize_observer=null)}})}function nt(i){i.directive("rippleInk",{created(e,t,o,s){const n=document.createElement("div");n.className="bunt-ripple-container",e.appendChild(n);const r=document.createElement("div");r.className="bunt-ripple",n.appendChild(r);async function c(a){r.classList.remove("bunt-ripple--leave");const{clientX:m,clientY:u}=a,{x:b,y:f,width:p,height:E}=e.getBoundingClientRect(),d=m-b,S=u-f,V=Math.sqrt(Math.max(d,p-d)**2+Math.max(S,E-S)**2);r.style.setProperty("--bunt-ripple-radius",V),r.style.setProperty("--bunt-ripple-x",`${d}px`),r.style.setProperty("--bunt-ripple-y",`${S}px`),r.classList.add("bunt-ripple--active")}function v(){r.classList.remove("bunt-ripple--active"),r.classList.add("bunt-ripple--leave")}e.addEventListener("pointerdown",c),e.addEventListener("pointerup",v),e.addEventListener("pointerleave",v)}})}class B{constructor(e,t){if(this.options=t,this.onScroll=this.onScroll.bind(this),this.onDocumentMousemove=this.onDocumentMousemove.bind(this),this.onDocumentMouseup=this.onDocumentMouseup.bind(this),this.onThumbMousedownX=this.onThumbMousedown.bind(this,"x"),this.onThumbMousedownY=this.onThumbMousedown.bind(this,"y"),this.onResize=this.onResize.bind(this),this.el=e,this.railsParent=t.railsParent||this.el,this.refreshStyling(),t.scrollX&&this.createRail("x"),t.scrollY&&this.createRail("y"),t.manualCompute||(this.computeDimensions(),this.computeThumbPositions(),this.update()),this.el.addEventListener("scroll",this.onScroll),!t.manualUpdate){this.resizeObserver=new O(this.onResize),this.resizeObserver.observe(this.el);for(const o of this.el.children)this.resizeObserver.observe(o);this.mutationObserver=new MutationObserver(o=>{for(const s of o){for(const n of s.addedNodes)n.nodeType===Node.ELEMENT_NODE&&this.resizeObserver.observe(n);for(const n of s.removedNodes)n.nodeType===Node.ELEMENT_NODE&&this.resizeObserver.unobserve(n)}this.onResize()}),this.mutationObserver.observe(this.el,{childList:!0})}}createRail(e){const t=document.createElement("div");t.classList.add(`bunt-scrollbar-rail-wrapper-${e}`);const o=document.createElement("div");o.classList.add(`bunt-scrollbar-rail-${e}`);const s=document.createElement("div");s.classList.add("bunt-scrollbar-thumb"),t.appendChild(o),o.appendChild(s),this.railsParent.appendChild(t),s.addEventListener("mousedown",this[`onThumbMousedown${e.toUpperCase()}`]),this[e]={railEl:o,thumbEl:s}}destroy(){var e,t,o,s;(e=this.resizeObserver)==null||e.disconnect(),(t=this.mutationObserver)==null||t.disconnect(),document.removeEventListener("mousemove",this.onDocumentMousemove),document.removeEventListener("mouseup",this.onDocumentMouseup,{capture:!0}),this.el.removeEventListener("scroll",this.onScroll),(o=this.x)==null||o.thumbEl.removeEventListener("mousedown",this.onThumbMousedownX),(s=this.y)==null||s.thumbEl.removeEventListener("mousedown",this.onThumbMousedownY)}refreshStyling(){this.el.classList.add("bunt-scrollbar")}update(){this.updateThumb("x"),this.updateThumb("y")}onScroll(e){this.options.onScroll&&this.options.onScroll(e),this.computeThumbPositions(),this.update()}onThumbMousedown(e,t){t.stopPropagation(),this.options._preventMousedown&&t.preventDefault(),this.dragging=e,this.draggingOffset=t[`offset${e.toUpperCase()}`],this.el.style.userSelect="none",document.body.style["-moz-user-select"]="none",this[e].railEl.classList.add("active"),document.addEventListener("mousemove",this.onDocumentMousemove),document.addEventListener("mouseup",this.onDocumentMouseup,{capture:!0})}onDocumentMousemove(e){if(this.dragging==="x"){const t=this.el.clientWidth-this.x.thumbLength,o=e.clientX-this.el.getBoundingClientRect().left-this.draggingOffset;this.x.thumbPosition=Math.min(Math.max(0,o),t),this.el.scrollLeft=this.x.thumbPosition/t*(this.el.scrollWidth-this.el.clientWidth)}if(this.dragging==="y"){const t=this.el.clientHeight-this.y.thumbLength,o=e.clientY-this.el.getBoundingClientRect().top-this.draggingOffset;this.y.thumbPosition=Math.min(Math.max(0,o),t),this.el.scrollTop=this.y.thumbPosition/t*(this.el.scrollHeight-this.el.clientHeight)}this.updateThumb(this.dragging)}onDocumentMouseup(e){this[this.dragging].railEl.classList.remove("active"),this.dragging=null,this.el.style.userSelect="",document.body.style["-moz-user-select"]="",document.removeEventListener("mousemove",this.onDocumentMousemove),document.removeEventListener("mouseup",this.onDocumentMouseup,{capture:!0})}onResize(e){this.computeDimensions(),this.computeThumbPositions(),this.update()}computeDimensions(){this.x&&(this.x.railLength=this.el.clientWidth,this.x.visibleRatio=this.el.clientWidth/this.el.scrollWidth,this.x.thumbLength=this.el.clientWidth*this.x.visibleRatio),this.y&&(this.y.railLength=this.el.clientHeight,this.y.visibleRatio=this.el.clientHeight/this.el.scrollHeight,this.y.thumbLength=this.el.clientHeight*this.y.visibleRatio)}computeThumbPositions(){this.x&&(this.x.thumbPosition=this.el.scrollLeft/(this.el.scrollWidth-this.el.clientWidth)*(this.el.clientWidth-this.x.thumbLength)),this.y&&(this.y.thumbPosition=this.el.scrollTop/(this.el.scrollHeight-this.el.clientHeight)*(this.el.clientHeight-this.y.thumbLength))}updateThumb(e){const t=this[e];!t||(t.visibleRatio>=1?t.thumbEl.style.display="none":(t.thumbEl.style.display=null,e==="x"?(t.railEl.style.width=t.railLength+"px",t.thumbEl.style.width=t.thumbLength+"px",t.thumbEl.style.left=t.thumbPosition+"px"):e==="y"&&(t.railEl.style.height=t.railLength+"px",t.thumbEl.style.height=t.thumbLength+"px",t.thumbEl.style.top=t.thumbPosition+"px")))}}function rt(i){i.directive("scrollbar",{mounted(e,t,o){var s;e.__buntpapier__scrollbar=new B(e,{scrollX:t.modifiers.x,scrollY:t.modifiers.y,_preventMousedown:(s=t.value)==null?void 0:s._preventMousedown}),e.__buntpapier__scrollbar.refreshStyling(),e.__buntpapier__scrollbar.update()},updated(e,t,o,s){e.__buntpapier__scrollbar?(e.__buntpapier__scrollbar.refreshStyling(),e.__buntpapier__scrollbar.update()):e.__buntpapier__scrollbar=new B(e,{scrollX:t.modifiers.x,scrollY:t.modifiers.y})},beforeUnmount(e,t,o,s){!e.__buntpapier__scrollbar||e.__buntpapier__scrollbar.destroy()}})}const w=32;function lt(i){class e{constructor(o,s){this.el=o,this.options=s,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.el.addEventListener("mouseenter",this.show),this.el.addEventListener("mouseleave",this.hide)}createTooltip(){if(this.tooltipEl)return;this.tooltipEl=document.createElement("div"),this.tooltipEl.classList.add("bunt-tooltip"),this.tooltipEl.style.position=this.options.fixed?"fixed":"absolute",this.tooltipEl.textContent=this.text,this.el.appendChild(this.tooltipEl);const o=getComputedStyle(this.el);this.options.placement=o.getPropertyValue("--tooltip-placement")||"auto",this.popper=j(this.el,this.tooltipEl,{placement:this.options.placement,strategy:this.options.fixed?"fixed":"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",options:{boundary:this.options.boundary||this.options.boundariesElement||"clippingParents"}},{name:"applyStyles",enabled:!1},{name:"applyTooltipStyle",enabled:!0,phase:"write",fn:({state:s})=>{this.positions=s.modifiersData.popperOffsets,this.tooltipEl.style.transform=`translate3d(${Math.round(this.positions.x)}px, ${Math.round(this.positions.y)}px, 0)`}}]})}update(o,s){this.text=o;const n=this.forceDisplay;this.forceDisplay=s,D(()=>{s?n||this.show():n&&this.hide(),this.tooltipEl&&(this.tooltipEl.textContent=this.text),this.popper&&this.popper.update()})}destroyTooltip(){!this.popper||(this.popper.destroy(),this.tooltipEl.remove(),this.popper=null,this.tooltipEl=null)}destroy(){this.destroyTooltip(),this.el.removeEventListener("mouseenter",this.show),this.el.removeEventListener("mouseleave",this.hide)}show(){this.displaying||!this.text||(this.createTooltip(),this.displaying=!0,D(()=>{if(this.animation)this.animation.reverse();else{let o;this.options.placement.startsWith("top")?o={top:Math.round(this.positions.y)+w,left:Math.round(this.positions.x)}:this.options.placement.startsWith("left")?o={top:Math.round(this.positions.y),left:Math.round(this.positions.x)+w}:this.options.placement.startsWith("right")?o={top:Math.round(this.positions.y),left:Math.round(this.positions.x)-w}:o={top:Math.round(this.positions.y)-w,left:Math.round(this.positions.x)},this.animation=this.tooltipEl.animate([{transform:`translate3d(${o.left}px, ${o.top}px, 0)`,opacity:0},{transform:`translate3d(${Math.round(this.positions.x)}px, ${Math.round(this.positions.y)}px, 0)`,opacity:1}],{duration:200,easing:"ease-in-out"}),this.animation.onfinish=()=>{this.animation&&this.animation.playbackRate<0&&(this.destroyTooltip(),this.animation=null)}}}))}hide(){!this.displaying||this.forceDisplay||(this.displaying=!1,this.animation&&this.animation.reverse(),this.text||this.destroyTooltip())}}i.directive("tooltip",{mounted(t,o,s){let n;typeof o.value=="string"?n=o.value:n=o.value.text,t.__buntpapier__tooltip=new e(t,{placement:o.value.placement||Object.keys(o.modifiers).find(r=>["auto","top","right","bottom","left"].find(c=>r.startsWith(c))),fixed:o.value.fixed||o.modifiers.fixed,boundariesElement:o.value.boundariesElement}),t.__buntpapier__tooltip.update(n,o.value.show)},updated(t,o,s,n){if(!t.__buntpapier__tooltip||o.value===o.oldValue)return;let r;typeof o.value=="string"?r=o.value:r=o.value.text,t.__buntpapier__tooltip.update(r,o.value.show)},unmounted(t,o,s,n){!t.__buntpapier__tooltip||t.__buntpapier__tooltip.destroy()}})}function at(i){it(i),nt(i),rt(i),lt(i)}const T=[];function A(){for(const i of T)i();requestAnimationFrame(A)}A();function ut(i){T.push(i)}function ct(i){const e=T.indexOf(i);e!==-1&&T.splice(e,1)}function W(i,e,t){const o={};let s={},n=[];const r=()=>{if(!i.value)return;let c=!1;const v=getComputedStyle(i.value);for(const[u,b]of Object.entries(e)){const f=v.getPropertyValue(u).trim().replace(/'|"/g,"");o[b]!==f&&(c=!0,o[b]=f)}if(!c)return;const{style:a,classes:m}=t(o);for(const[u,b]of Object.entries(a))i.value.style.setProperty(u,b);for(const u of Object.keys(s))a[u]==null&&i.value.style.removeProperty(u);for(const u of m)n.includes(u)||i.value.classList.add(u);for(const u of n)m.includes(u)||i.value.classList.remove(u);s=a,n=m};F(()=>{ut(r)}),Y(()=>{ct(r)})}const g={LIGHT:h("rgba(0, 0, 0, .87)"),DARK:h("rgba(255, 255, 255, 1)")};h("rgba(0, 0, 0, .54)"),h("rgba(255, 255, 255, .7)");h("rgba(0, 0, 0, .74)"),h("rgba(255, 255, 255, .9)");h("rgba(0, 0, 0, .38)"),h("rgba(255, 255, 255, .5)");h("rgba(255, 255, 255, .63)"),h("rgba(255, 255, 255, .63)");function ht(i,e){const{r:t,g:o,b:s,a:n}=G({r:i.red(),g:i.green(),b:i.blue(),a:i.alpha()},{r:e.red(),g:e.green(),b:e.blue(),a:e.alpha()});return h({r:t,g:o,b:s,alpha:n})}function P(i,e="#FFF",t=4.5){e=h(e);let o,s=0;for(let n of i){n=h(n);const r=e.contrast(ht(e,n));if(r>=t)return n;r>s&&(o=n,s=r)}return o}const pt={add:"plus",done:"check",remove:"minus",search:"magnify",help_outline:"help-circle-outline"};function dt(i){return i?"mdi-"+(pt[i]||i).replace("_","-"):""}const mt=l("svg",{viewBox:"25 25 50 50"},[l("circle",{cx:"50",cy:"50",r:"20"})],-1),bt=[mt],ft={name:"BuntProgressCircular"},_t=Object.assign(ft,{setup(i){const e=C();return W(e,{"--progress-size":"size","--progress-layout":"layout"},({size:t,layout:o})=>{const s={},n=[];return t&&n.push(`bunt-progess-circular--size-${t}`),{style:s,classes:n}}),(t,o)=>(_(),y("div",{class:"bunt-progress-circular",ref_key:"el",ref:e},bt,512))}}),vt=["type","aria-disabled"],yt={class:"bunt-button-content"},gt={class:"bunt-button-text"},xt={key:1,class:"bunt-icon mdi mdi-replay error"},Et={key:2,class:"bunt-icon mdi mdi-check success"},Lt={name:"BuntButton"},Mt=Object.assign(Lt,{props:{text:String,icon:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"button"},error:Boolean,errorMessage:String,successAfterLoading:{type:Boolean,default:!0},tooltip:String,tooltipPlacement:{type:String,default:"bottom"},tooltipFixed:{type:Boolean,default:!1},tooltipOptions:Object},emits:["click"],setup(i,{emit:e}){const t=i;X();const o=C();W(o,{"--button-style":"style","--button-color":"color","--button-color-error":"errorColor","--button-color-success":"successColor","--button-text-color":"textColor","--button-size":"size"},({color:a,errorColor:m,successColor:u,textColor:b,size:f})=>{const p={},E=[];if(f&&E.push(`bunt-button--size-${f}`),a){p["--_button-text-color"]=b||P([g.DARK,g.LIGHT],a,3);const d=h(a).hsl();p["--_button-bg-h"]=d.hue(),p["--_button-bg-s"]=d.saturationl()+"%",p["--_button-bg-l"]=d.lightness()+"%"}if(m){p["--_button-text-color-error"]=P([g.DARK,g.LIGHT],m,3);const d=h(m).hsl();p["--_button-bg-error-h"]=d.hue(),p["--_button-bg-error-s"]=d.saturationl()+"%",p["--_button-bg-error-l"]=d.lightness()+"%"}if(u){p["--_button-text-color-success"]=P([g.DARK,g.LIGHT],u,3);const d=h(u).hsl();p["--_button-bg-success-h"]=d.hue(),p["--_button-bg-success-s"]=d.saturationl()+"%",p["--_button-bg-success-l"]=d.lightness()+"%"}return{style:p,classes:E}});const s=R(()=>{var a;return(a=t.errorMessage)!=null?a:t.tooltip}),n=R(()=>dt(t.icon)),r=C(!1);let c;N(()=>t.loading,a=>{if(a)r.value=!1,c&&clearTimeout(c);else{if(t.errorMessage||t.error)return;r.value=!0,c=setTimeout(()=>{r.value=!1},3e3)}}),N(()=>t.error||t.errorMessage,a=>{a!==null&&(r.value=!1)});function v(a){t.disabled||t.loading||r.value||e("click",a)}return(a,m)=>{const u=H("tooltip"),b=H("ripple-ink");return L((_(),y("button",{class:$(["bunt-button",{disabled:t.disabled,loading:t.loading,error:t.errorMessage||t.error,success:r.value}]),ref_key:"el",ref:o,type:t.type,"aria-disabled":i.disabled,onClick:v},[l("div",yt,[z(n)?(_(),y("i",{key:0,class:$(["bunt-icon mdi",[z(n)]])},null,2)):M("",!0),l("div",gt,[K(a.$slots,"default",{},()=>[l("span",null,q(t.text),1)])])]),i.loading?(_(),U(_t,{key:0,size:"small"})):M("",!0),i.errorMessage||i.error?(_(),y("i",xt)):M("",!0),r.value?(_(),y("i",Et)):M("",!0)],10,vt)),[[u,i.tooltipOptions||{text:z(s),show:!!t.errorMessage,fixed:t.tooltipFixed}],[b]])}}});const wt={install(i){at(i),i.component("bunt-button",Mt)}},Tt={id:"buntpapier-demo"},St=l("h1",null,"Buntpapier v3 Playground",-1),Ct=l("p",null,[x("Buntpapier v3 will allow you to control styles with css custom properties."),l("br"),x("These aren't simple css custom properties that just get used in the internal stylesheet though! With the magic of not being able to wait for the CSSWG to come up with a standard \u2014 and a bit of js, custom properties in buntpapier v3 will control every visual aspect of the components."),l("br"),x("Give it a try! For example, change --button-color to see the text color change to preserve a good contrast and automatically compute hover and ripple effect colors."),l("br"),x("Changing --button-size will actually affect multiple other css properties at once.")],-1),zt=l("p",null,"(You can also open your browser devtools and try changing custom property values of the button directly if you don't believe me.)",-1),Pt={class:"playground"},Ot={class:"custom-props"},Dt={class:"prop"},Rt=l("label",null,"--button-color:",-1),Nt={class:"prop"},Ht=l("label",null,"--button-size:",-1),$t=l("option",{value:"normal"},"normal",-1),kt=l("option",{value:"large"},"large",-1),Bt=l("option",{value:"huge"},"huge",-1),At=[$t,kt,Bt],Wt={class:"prop"},It=l("label",null,"--tooltip-placement:",-1),Vt=l("option",{value:"top"},"top",-1),jt=l("option",{value:"right"},"right",-1),Ft=l("option",{value:"bottom"},"bottom",-1),Yt=l("option",{value:"left"},"left",-1),Gt=[Vt,jt,Ft,Yt],Xt=x("customize me!");function Kt(i,e,t,o,s,n){const r=J("bunt-button");return _(),y("div",Tt,[St,Ct,zt,l("div",Pt,[l("div",Ot,[l("div",Dt,[Rt,L(l("input",{type:"color","onUpdate:modelValue":e[0]||(e[0]=c=>s.buttonColor=c)},null,512),[[Q,s.buttonColor]])]),l("div",Nt,[Ht,L(l("select",{"onUpdate:modelValue":e[1]||(e[1]=c=>s.buttonSize=c)},At,512),[[k,s.buttonSize]])]),l("div",Wt,[It,L(l("select",{"onUpdate:modelValue":e[2]||(e[2]=c=>s.tooltipPlacement=c)},Gt,512),[[k,s.tooltipPlacement]])])]),l("div",{class:"render",style:Z(n.style)},[tt(r,{tooltip:"I'm a tooltip!"},{default:et(()=>[Xt]),_:1})],4)])])}var Ut=(i,e)=>{const t=i.__vccOpts||i;for(const[o,s]of e)t[o]=s;return t};const qt={components:{},data(){return{buttonColor:"#5f1f93",buttonSize:"normal",tooltipPlacement:"bottom"}},computed:{style(){return{"--button-color":this.buttonColor,"--button-size":this.buttonSize,"--tooltip-placement":this.tooltipPlacement}}}};var Jt=Ut(qt,[["render",Kt]]);const I=ot(Jt);I.use(wt);I.mount("#app");
